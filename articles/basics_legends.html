<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>tmap basics: legends • tmap</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="tmap basics: legends">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">tmap</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">4.1.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-basics" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Basics</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-basics">
<li><a class="dropdown-item" href="../articles/basics_vv">Visual variables</a></li>
    <li><a class="dropdown-item" href="../articles/basics_scales">Scales</a></li>
    <li><a class="dropdown-item" href="../articles/basics_modes">Modes</a></li>
    <li><a class="dropdown-item" href="../articles/basics_facets">Facets</a></li>
    <li><a class="dropdown-item" href="../articles/basics_legends">Legends</a></li>
    <li><a class="dropdown-item" href="../articles/basics_basemaps">Basemaps</a></li>
    <li><a class="dropdown-item" href="../articles/basics_components">Components</a></li>
    <li><a class="dropdown-item" href="../articles/basics_charts">Charts</a></li>
    <li><a class="dropdown-item" href="../articles/basics_layout">Layout</a></li>
    <li><a class="dropdown-item" href="../articles/basics_exporting">Exporting</a></li>
  </ul>
</li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-foundations" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Foundations</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-foundations">
<li><a class="dropdown-item" href="../articles/foundations_gg">Grammar of Graphics</a></li>
    <li><a class="dropdown-item" href="../articles/foundations_crs">Map projections (CRS)</a></li>
  </ul>
</li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-examples" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Examples</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-examples">
<li><a class="dropdown-item" href="../articles/examples_choro_World">Choropleth (World)</a></li>
    <li><a class="dropdown-item" href="../articles/examples_choro_NLD">Choropleth (Netherlands)</a></li>
    <li><a class="dropdown-item" href="../articles/examples_bubble">Bubble map</a></li>
    <li><a class="dropdown-item" href="../articles/examples_raster">Raster map</a></li>
    <li><a class="dropdown-item" href="../articles/examples_topo_Africa">Topographic map (Africa)</a></li>
    <li><a class="dropdown-item" href="../articles/examples_terrain">Terrain map</a></li>
    <li><a class="dropdown-item" href="../articles/examples_gridmaps">Gridmap</a></li>
    <li><a class="dropdown-item" href="../articles/examples_biv_choro">Bivariate choropleth</a></li>
  </ul>
</li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-comparison" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Comparison</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-comparison">
<li><a class="dropdown-item" href="../articles/versus_ggplot2">tmap vs ggplot2</a></li>
    <li><a class="dropdown-item" href="../articles/versus_mapview">tmap vs mapview</a></li>
    <li><a class="dropdown-item" href="../articles/versus_mapsf">tmap vs mapsf</a></li>
  </ul>
</li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-extensions" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Extensions</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-extensions">
<li><a class="dropdown-item" href="../articles/ext_mapgl">tmap.mapgl</a></li>
    <li><a class="dropdown-item" href="../articles/ext_cartogram">tmap.cartogram</a></li>
    <li><a class="dropdown-item" href="../articles/ext_glyphs">tmap.glyphs</a></li>
    <li><a class="dropdown-item" href="../articles/ext_networks">tmap.networks</a></li>
  </ul>
</li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-advanced" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Advanced</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-advanced">
<li><a class="dropdown-item" href="../articles/adv_inset_maps">Inset maps</a></li>
    <li><a class="dropdown-item" href="../articles/adv_animations">Animations</a></li>
    <li><a class="dropdown-item" href="../articles/adv_shiny">shiny integration</a></li>
    <li><a class="dropdown-item" href="../articles/adv_ggplot2">ggplot2 integration</a></li>
    <li><a class="dropdown-item" href="../articles/adv_multivariate">Multivariate visual variables</a></li>
    <li><a class="dropdown-item" href="../articles/adv_positions">Positioning of components</a></li>
    <li><a class="dropdown-item" href="../articles/adv_comp_group">Grouping of components</a></li>
    <li><a class="dropdown-item" href="../articles/adv_legends">Legends</a></li>
    <li><a class="dropdown-item" href="../articles/adv_options">Options and styles</a></li>
    <li><a class="dropdown-item" href="../articles/adv_margins">Margins and aspect ratio (plot mode)</a></li>
    <li><a class="dropdown-item" href="../articles/adv_groups">Layer groups (view mode)</a></li>
    <li><a class="dropdown-item" href="../articles/adv_extensions">Extending tmap</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/r-tmap/tmap/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">


<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>tmap basics: legends</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/r-tmap/tmap/blob/master/vignettes/basics_legends.Rmd" class="external-link"><code>vignettes/basics_legends.Rmd</code></a></small>
      <div class="d-none name"><code>basics_legends.Rmd</code></div>
    </div>

    
    
<div class="section level3">
<h3 id="about-the-data">About the data<a class="anchor" aria-label="anchor" href="#about-the-data"></a>
</h3>
<p>A spatial data object contained in tmap is called <code>World</code>. It is a data frame with a row for each country. The columns are the following data variables plus an additional geometry column which contains the geometries (see sf package):</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">World</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] "iso_a3"       "name"         "sovereignt"   "continent"    "area"        </span></span>
<span><span class="co">#&gt;  [6] "pop_est"      "pop_est_dens" "economy"      "income_grp"   "gdp_cap_est" </span></span>
<span><span class="co">#&gt; [11] "life_exp"     "well_being"   "footprint"    "HPI"          "inequality"  </span></span>
<span><span class="co">#&gt; [16] "gender"       "press"        "geometry"</span></span></code></pre></div>
<p>We specify this object with <code>tm_shape</code> (see other vignette) and for convenience assign it to <code>s</code>:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">s</span> <span class="op">=</span> <span class="fu"><a href="../reference/tm_shape.html">tm_shape</a></span><span class="op">(</span><span class="va">World</span>, crs <span class="op">=</span> <span class="st">"+proj=eqearth"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="legend-type">Legend type<a class="anchor" aria-label="anchor" href="#legend-type"></a>
</h2>
<p>Each visual variable, e.g. <code>fill</code> in <code>tm_polygons</code> will by default produce a legend. The type of legend depends on used scale (see ). E.g. <code>tm_scale_continuous</code> applied to <code>fill</code> will produce a continuous color gradient:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">s</span> <span class="op">+</span> <span class="fu"><a href="../reference/tm_polygons.html">tm_polygons</a></span><span class="op">(</span></span>
<span>  fill <span class="op">=</span> <span class="st">"HPI"</span>,</span>
<span>  fill.scale <span class="op">=</span> <span class="fu"><a href="../reference/tm_scale_continuous.html">tm_scale_continuous</a></span><span class="op">(</span>values <span class="op">=</span> <span class="st">"pu_gn"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="basics_legends_files/figure-html/unnamed-chunk-5-1.png" width="100%"></p>
<p>For <code>tm_scale_intervals</code>, there are two styles. A choice can be made via the argument <code>label.style</code>. By default it is set to discrete:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">s</span> <span class="op">+</span> <span class="fu"><a href="../reference/tm_polygons.html">tm_polygons</a></span><span class="op">(</span></span>
<span>  fill <span class="op">=</span> <span class="st">"HPI"</span>,</span>
<span>  fill.scale <span class="op">=</span> <span class="fu"><a href="../reference/tm_scale_intervals.html">tm_scale_intervals</a></span><span class="op">(</span>values <span class="op">=</span> <span class="st">"pu_gn"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="basics_legends_files/figure-html/unnamed-chunk-6-1.png" width="100%"></p>
<p>Alternatively, it can be set to <code>"continuous"</code>:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">s</span> <span class="op">+</span> <span class="fu"><a href="../reference/tm_polygons.html">tm_polygons</a></span><span class="op">(</span></span>
<span>  fill <span class="op">=</span> <span class="st">"HPI"</span>,</span>
<span>  fill.scale <span class="op">=</span> <span class="fu"><a href="../reference/tm_scale_intervals.html">tm_scale_intervals</a></span><span class="op">(</span>values <span class="op">=</span> <span class="st">"pu_gn"</span>, label.style <span class="op">=</span> <span class="st">"continuous"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="basics_legends_files/figure-html/unnamed-chunk-7-1.png" width="100%"></p>
</div>
<div class="section level2">
<h2 id="legend-arguments">
<code>.legend</code> arguments<a class="anchor" aria-label="anchor" href="#legend-arguments"></a>
</h2>
<p>Each visual variable also has a <code>.legend</code> argment, such as <code>fill.legend</code> in <code>tm_polygons</code>. This can be used to:</p>
<ul>
<li>set the title of the legend,</li>
<li>change the orientation of the legend (portrait or landscape),</li>
<li>reverse the legend items,</li>
<li>hide the legend, and</li>
<li>change the size and position of the legend.</li>
</ul>
<p>Note that the content of the legend, so breaks, scales, and ticks are related to the scale and should therefore be specified in the scale functions.</p>
</div>
<div class="section level2">
<h2 id="title-orientation-and-size">Title, orientation and size<a class="anchor" aria-label="anchor" href="#title-orientation-and-size"></a>
</h2>
<p>The following example illustrates how the title, orientation and size and specified:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">s</span> <span class="op">+</span> <span class="fu"><a href="../reference/tm_polygons.html">tm_polygons</a></span><span class="op">(</span></span>
<span>  fill <span class="op">=</span> <span class="st">"HPI"</span>,</span>
<span>  fill.scale <span class="op">=</span> <span class="fu"><a href="../reference/tm_scale_continuous.html">tm_scale_continuous</a></span><span class="op">(</span>values <span class="op">=</span> <span class="st">"pu_gn"</span><span class="op">)</span>,</span>
<span>  fill.legend <span class="op">=</span> </span>
<span>    <span class="fu"><a href="../reference/tm_legend.html">tm_legend</a></span><span class="op">(</span></span>
<span>      title <span class="op">=</span> <span class="st">"Happy Planex Index"</span>, </span>
<span>      orientation <span class="op">=</span> <span class="st">"landscape"</span>, </span>
<span>      width <span class="op">=</span> <span class="fl">60</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">[plot mode]</span> fit legend/component: Some legend items or map compoments do not</span></span>
<span><span class="co">#&gt; fit well, and are therefore rescaled.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Set the tmap option `component.autoscale = FALSE` to disable rescaling.</span></span></code></pre></div>
<p><img src="basics_legends_files/figure-html/unnamed-chunk-8-1.png" width="100%"></p>
<p>The legend width is set in number of text line heights, which corresponds to the number of characters. In other words, the resulting width depends on the font size, which can be set in <code>tm_legend</code>, but also via the general <code>scale</code> option, which determines the overall ‘scale’ of the map (all line widths, point sizes and font sizes):</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">s</span> <span class="op">+</span> <span class="fu"><a href="../reference/tm_polygons.html">tm_polygons</a></span><span class="op">(</span></span>
<span>  fill <span class="op">=</span> <span class="st">"HPI"</span>,</span>
<span>  fill.scale <span class="op">=</span> <span class="fu"><a href="../reference/tm_scale_continuous.html">tm_scale_continuous</a></span><span class="op">(</span>values <span class="op">=</span> <span class="st">"pu_gn"</span><span class="op">)</span>,</span>
<span>  fill.legend <span class="op">=</span> </span>
<span>    <span class="fu"><a href="../reference/tm_legend.html">tm_legend</a></span><span class="op">(</span></span>
<span>      title <span class="op">=</span> <span class="st">"Happy Planex Index"</span>, </span>
<span>      orientation <span class="op">=</span> <span class="st">"landscape"</span>, </span>
<span>      width <span class="op">=</span> <span class="fl">60</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span><span class="fu"><a href="../reference/tm_layout.html">tm_layout</a></span><span class="op">(</span>scale <span class="op">=</span> <span class="fl">0.25</span><span class="op">)</span></span></code></pre></div>
<p><img src="basics_legends_files/figure-html/unnamed-chunk-9-1.png" width="100%"></p>
</div>
<div class="section level2">
<h2 id="hiding-legends">Hiding legends<a class="anchor" aria-label="anchor" href="#hiding-legends"></a>
</h2>
<p>A legend can be suppressed by setting the <code>.legend</code> argument to <code><a href="../reference/tm_legend.html">tm_legend_hide()</a></code>.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">s</span> <span class="op">+</span> <span class="fu"><a href="../reference/tm_polygons.html">tm_polygons</a></span><span class="op">(</span></span>
<span>  fill <span class="op">=</span> <span class="st">"HPI"</span>,</span>
<span>  fill.scale <span class="op">=</span> <span class="fu"><a href="../reference/tm_scale_continuous.html">tm_scale_continuous</a></span><span class="op">(</span>values <span class="op">=</span> <span class="st">"pu_gn"</span><span class="op">)</span>,</span>
<span>  fill.legend <span class="op">=</span> <span class="fu"><a href="../reference/tm_legend.html">tm_legend_hide</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="basics_legends_files/figure-html/unnamed-chunk-10-1.png" width="100%"></p>
<p>See the <a href="https://r-tmap.github.io/tmap/articles/adv_legends">advanced vignette</a> for more options.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Martijn Tennekes.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
