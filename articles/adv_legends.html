<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>tmap advanced: legends • tmap</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="tmap advanced: legends">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">tmap</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">4.1.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-basics" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Basics</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-basics">
<li><a class="dropdown-item" href="../articles/basics_vv">Visual variables</a></li>
    <li><a class="dropdown-item" href="../articles/basics_scales">Scales</a></li>
    <li><a class="dropdown-item" href="../articles/basics_modes">Modes</a></li>
    <li><a class="dropdown-item" href="../articles/basics_facets">Facets</a></li>
    <li><a class="dropdown-item" href="../articles/basics_legends">Legends</a></li>
    <li><a class="dropdown-item" href="../articles/basics_basemaps">Basemaps</a></li>
    <li><a class="dropdown-item" href="../articles/basics_components">Components</a></li>
    <li><a class="dropdown-item" href="../articles/basics_charts">Charts</a></li>
    <li><a class="dropdown-item" href="../articles/basics_layout">Layout</a></li>
    <li><a class="dropdown-item" href="../articles/basics_exporting">Exporting</a></li>
  </ul>
</li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-foundations" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Foundations</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-foundations">
<li><a class="dropdown-item" href="../articles/foundations_gg">Grammar of Graphics</a></li>
    <li><a class="dropdown-item" href="../articles/foundations_crs">Map projections (CRS)</a></li>
  </ul>
</li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-examples" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Examples</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-examples">
<li><a class="dropdown-item" href="../articles/examples_choro_World">Choropleth (World)</a></li>
    <li><a class="dropdown-item" href="../articles/examples_choro_NLD">Choropleth (Netherlands)</a></li>
    <li><a class="dropdown-item" href="../articles/examples_bubble">Bubble map</a></li>
    <li><a class="dropdown-item" href="../articles/examples_raster">Raster map</a></li>
    <li><a class="dropdown-item" href="../articles/examples_topo_Africa">Topographic map (Africa)</a></li>
    <li><a class="dropdown-item" href="../articles/examples_terrain">Terrain map</a></li>
    <li><a class="dropdown-item" href="../articles/examples_gridmaps">Gridmap</a></li>
    <li><a class="dropdown-item" href="../articles/examples_biv_choro">Bivariate choropleth</a></li>
  </ul>
</li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-comparison" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Comparison</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-comparison">
<li><a class="dropdown-item" href="../articles/versus_ggplot2">tmap vs ggplot2</a></li>
    <li><a class="dropdown-item" href="../articles/versus_mapview">tmap vs mapview</a></li>
    <li><a class="dropdown-item" href="../articles/versus_mapsf">tmap vs mapsf</a></li>
  </ul>
</li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-extensions" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Extensions</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-extensions">
<li><a class="dropdown-item" href="../articles/ext_mapgl">tmap.mapgl</a></li>
    <li><a class="dropdown-item" href="../articles/ext_cartogram">tmap.cartogram</a></li>
    <li><a class="dropdown-item" href="../articles/ext_glyphs">tmap.glyphs</a></li>
    <li><a class="dropdown-item" href="../articles/ext_networks">tmap.networks</a></li>
  </ul>
</li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-advanced" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Advanced</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-advanced">
<li><a class="dropdown-item" href="../articles/adv_legends">Legends</a></li>
    <li><a class="dropdown-item" href="../articles/adv_inset_maps">Inset maps</a></li>
    <li><a class="dropdown-item" href="../articles/adv_animations">Animations</a></li>
    <li><a class="dropdown-item" href="../articles/adv_shiny">shiny integration</a></li>
    <li><a class="dropdown-item" href="../articles/adv_ggplot2">ggplot2 integration</a></li>
    <li><a class="dropdown-item" href="../articles/adv_multivariate">Multivariate visual variables</a></li>
    <li><a class="dropdown-item" href="../articles/adv_positions">Positioning of components</a></li>
    <li><a class="dropdown-item" href="../articles/adv_comp_group">Grouping of components</a></li>
    <li><a class="dropdown-item" href="../articles/adv_options">Options and styles</a></li>
    <li><a class="dropdown-item" href="../articles/adv_margins">Margins and aspect ratio (plot mode)</a></li>
    <li><a class="dropdown-item" href="../articles/adv_groups">Layer groups (view mode)</a></li>
    <li><a class="dropdown-item" href="../articles/adv_extensions">Extending tmap</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/r-tmap/tmap/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">


<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>tmap advanced: legends</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/r-tmap/tmap/blob/master/vignettes/adv_legends.Rmd" class="external-link"><code>vignettes/adv_legends.Rmd</code></a></small>
      <div class="d-none name"><code>adv_legends.Rmd</code></div>
    </div>

    
    
<p>This vignettes builds on the <a href="https://r-tmap.github.io/tmap/articles/basics_legends">introduction vignette about legends</a> and about <a href="https://r-tmap.github.io/tmap/articles/basics_scales">scales</a></p>
<p>For convenience let’s assign the <code>tm_shape</code> element to <code>s</code>:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">s</span> <span class="op">=</span> <span class="fu"><a href="../reference/tm_shape.html">tm_shape</a></span><span class="op">(</span><span class="va">World</span>, crs <span class="op">=</span> <span class="st">"+proj=eqearth"</span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="item-labels">Item labels<a class="anchor" aria-label="anchor" href="#item-labels"></a>
</h2>
<div class="section level3">
<h3 id="single-numbers">Single numbers<a class="anchor" aria-label="anchor" href="#single-numbers"></a>
</h3>
<p>Numbers of numeric legends are formatted with the <code>label.format</code> argument of the scale function, e.g. <code>tm_scale_continuous</code>:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">s</span> <span class="op">+</span> <span class="fu"><a href="../reference/tm_polygons.html">tm_polygons</a></span><span class="op">(</span><span class="st">"HPI"</span>, fill.scale <span class="op">=</span> <span class="fu"><a href="../reference/tm_scale_continuous.html">tm_scale_continuous</a></span><span class="op">(</span>values <span class="op">=</span> <span class="st">"pu_gn_div"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="adv_legends_files/figure-html/unnamed-chunk-4-1.png" width="100%"></p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">s</span> <span class="op">+</span> <span class="fu"><a href="../reference/tm_polygons.html">tm_polygons</a></span><span class="op">(</span><span class="st">"HPI"</span>, </span>
<span>  fill.scale <span class="op">=</span> <span class="fu"><a href="../reference/tm_scale_continuous.html">tm_scale_continuous</a></span><span class="op">(</span></span>
<span>    values <span class="op">=</span> <span class="st">"pu_gn_div"</span>, </span>
<span>    label.format <span class="op">=</span> <span class="fu"><a href="../reference/tm_label_format.html">tm_label_format</a></span><span class="op">(</span>digits <span class="op">=</span> <span class="fl">3</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="adv_legends_files/figure-html/unnamed-chunk-5-1.png" width="100%"></p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">s</span> <span class="op">+</span> <span class="fu"><a href="../reference/tm_polygons.html">tm_polygons</a></span><span class="op">(</span><span class="st">"HPI"</span>,</span>
<span>  fill.scale <span class="op">=</span> <span class="fu"><a href="../reference/tm_scale_continuous.html">tm_scale_continuous</a></span><span class="op">(</span></span>
<span>    values <span class="op">=</span> <span class="st">"pu_gn_div"</span>, </span>
<span>    label.format <span class="op">=</span> <span class="fu"><a href="../reference/tm_label_format.html">tm_label_format</a></span><span class="op">(</span>scientific <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="adv_legends_files/figure-html/unnamed-chunk-6-1.png" width="100%"></p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">s</span> <span class="op">+</span> <span class="fu"><a href="../reference/tm_polygons.html">tm_polygons</a></span><span class="op">(</span><span class="st">"HPI"</span>,</span>
<span>  fill.scale <span class="op">=</span> <span class="fu"><a href="../reference/tm_scale_continuous.html">tm_scale_continuous</a></span><span class="op">(</span></span>
<span>    values <span class="op">=</span> <span class="st">"pu_gn_div"</span>, </span>
<span>    label.format <span class="op">=</span> <span class="fu"><a href="../reference/tm_label_format.html">tm_label_format</a></span><span class="op">(</span>prefix <span class="op">=</span> <span class="st">"&lt;"</span>, suffix <span class="op">=</span> <span class="st">"&gt;"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="adv_legends_files/figure-html/unnamed-chunk-7-1.png" width="100%"></p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">s</span> <span class="op">+</span> <span class="fu"><a href="../reference/tm_polygons.html">tm_polygons</a></span><span class="op">(</span><span class="st">"HPI"</span>, </span>
<span>  fill.scale <span class="op">=</span> <span class="fu"><a href="../reference/tm_scale_continuous.html">tm_scale_continuous</a></span><span class="op">(</span></span>
<span>    values <span class="op">=</span> <span class="st">"pu_gn_div"</span>, </span>
<span>    label.format <span class="op">=</span> <span class="fu"><a href="../reference/tm_label_format.html">tm_label_format</a></span><span class="op">(</span>fun <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="va">lst</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/strsplit.html" class="external-link">strsplit</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="st">"%05d"</span>, <span class="va">x</span><span class="op">)</span>, split <span class="op">=</span> <span class="st">""</span><span class="op">)</span></span>
<span>        <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span><span class="va">lst</span>, <span class="kw">function</span><span class="op">(</span><span class="va">y</span><span class="op">)</span> <span class="op">{</span></span>
<span>            <span class="fu"><a href="https://rdrr.io/r/base/do.call.html" class="external-link">do.call</a></span><span class="op">(</span><span class="va">paste</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">as.list</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>collapse <span class="op">=</span> <span class="st">" "</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span>        <span class="op">}</span><span class="op">)</span></span>
<span>    <span class="op">}</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="adv_legends_files/figure-html/unnamed-chunk-8-1.png" width="100%"></p>
</div>
<div class="section level3">
<h3 id="intervals">Intervals<a class="anchor" aria-label="anchor" href="#intervals"></a>
</h3>
<p>For the formatting of interval labels there are a few additional options.</p>
<p>Consider this map</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">s</span> <span class="op">+</span> <span class="fu"><a href="../reference/tm_polygons.html">tm_polygons</a></span><span class="op">(</span></span>
<span>  fill <span class="op">=</span> <span class="st">"HPI"</span>,</span>
<span>  fill.scale <span class="op">=</span> <span class="fu"><a href="../reference/tm_scale_intervals.html">tm_scale_intervals</a></span><span class="op">(</span>breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">60</span>, by <span class="op">=</span> <span class="fl">10</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="adv_legends_files/figure-html/unnamed-chunk-9-1.png" width="100%"></p>
<p>First of all note that intervals are by default closed on the left-handside, so the first interval represents all values from (and including) 10 to (and not including) the next break which is 20.
How intervals are closed is configured with <code>interval.closure</code>.</p>
<p>Apart from how intervals are closed, another choice is how to present them. In the old tmap version (&lt;= 4.1), they were labeled as <code>"10 to 20"</code>, <code>"20 to 30"</code>. This lead to a lot of confusion because it was unclear where 20 belonged to. This old option can be enabled via the argument <code>label.disjoint</code> of <code><a href="../reference/tm_label_format.html">tm_label_format()</a></code>:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">s</span> <span class="op">+</span> <span class="fu"><a href="../reference/tm_polygons.html">tm_polygons</a></span><span class="op">(</span></span>
<span>  fill <span class="op">=</span> <span class="st">"HPI"</span>,</span>
<span>  fill.scale <span class="op">=</span> <span class="fu"><a href="../reference/tm_scale_intervals.html">tm_scale_intervals</a></span><span class="op">(</span></span>
<span>    breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">60</span>, by <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>, </span>
<span>    label.format <span class="op">=</span> <span class="fu"><a href="../reference/tm_label_format.html">tm_label_format</a></span><span class="op">(</span>interval.disjoint <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="adv_legends_files/figure-html/unnamed-chunk-10-1.png" width="100%"></p>
<p>With the new default (<code>interval.disjoint = TRUE</code>) the argument digits can be used additionally:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">s</span> <span class="op">+</span> <span class="fu"><a href="../reference/tm_polygons.html">tm_polygons</a></span><span class="op">(</span></span>
<span>  fill <span class="op">=</span> <span class="st">"HPI"</span>,</span>
<span>  fill.scale <span class="op">=</span> <span class="fu"><a href="../reference/tm_scale_intervals.html">tm_scale_intervals</a></span><span class="op">(</span></span>
<span>    breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">60</span>, by <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>, </span>
<span>    label.format <span class="op">=</span> <span class="fu"><a href="../reference/tm_label_format.html">tm_label_format</a></span><span class="op">(</span>digits <span class="op">=</span> <span class="fl">2</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="adv_legends_files/figure-html/unnamed-chunk-11-1.png" width="100%"></p>
<p>Use <code>-Inf</code> for the first break and <code>Inf</code> for the last break to trigger labels that reflect “less than” and “or more” respectively. How these are formatted can be specified with <code>label.format</code>:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">s</span> <span class="op">+</span> <span class="fu"><a href="../reference/tm_polygons.html">tm_polygons</a></span><span class="op">(</span></span>
<span>  fill <span class="op">=</span> <span class="st">"HPI"</span>,</span>
<span>  fill.scale <span class="op">=</span> <span class="fu"><a href="../reference/tm_scale_intervals.html">tm_scale_intervals</a></span><span class="op">(</span></span>
<span>    n <span class="op">=</span> <span class="fl">6</span>,</span>
<span>    style <span class="op">=</span> <span class="st">"fixed"</span>,    </span>
<span>    breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="cn">Inf</span>,<span class="fl">10</span>,<span class="fl">20</span>,<span class="fl">30</span>,<span class="fl">40</span>,<span class="fl">50</span>, <span class="cn">Inf</span><span class="op">)</span>,</span>
<span>    values <span class="op">=</span> <span class="st">"pu_gn_div"</span>,</span>
<span>    label.format <span class="op">=</span> <span class="fu"><a href="../reference/tm_label_format.html">tm_label_format</a></span><span class="op">(</span></span>
<span>      text.separator <span class="op">=</span> <span class="st">"to"</span>, </span>
<span>      text.less.than <span class="op">=</span> <span class="st">"less than"</span>, </span>
<span>      text.less.than_as.prefix <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>      text.or.more <span class="op">=</span> <span class="st">"or more"</span>, </span>
<span>      text.or.more_as.prefix <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span>  <span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="adv_legends_files/figure-html/unnamed-chunk-12-1.png" width="100%"></p>
</div>
<div class="section level3">
<h3 id="big-numbers">Big numbers<a class="anchor" aria-label="anchor" href="#big-numbers"></a>
</h3>
<p>By default, big numbers are abbreviated. If differences among legend values are sufficiently large, they are presented in millions, billions etc.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">s</span> <span class="op">+</span> <span class="fu"><a href="../reference/tm_polygons.html">tm_polygons</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/tm_symbols.html">tm_bubbles</a></span><span class="op">(</span>size <span class="op">=</span> <span class="st">"pop_est"</span><span class="op">)</span></span></code></pre></div>
<p><img src="adv_legends_files/figure-html/unnamed-chunk-13-1.png" width="100%"></p>
<p>The big number abbreviations are specified in <code>big.num.abbr</code>. The default value is</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/tmap_options.html">tmap_options</a></span><span class="op">(</span><span class="st">"label.format"</span><span class="op">)</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">big.num.abbr</span></span>
<span><span class="co">#&gt; mln bln trn qdn qnt </span></span>
<span><span class="co">#&gt;   6   9  12  15  18</span></span></code></pre></div>
<p>Instead, we can define the population count in ‘thousands’:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/tm_shape.html">tm_shape</a></span><span class="op">(</span><span class="va">NLD_muni</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="../reference/tm_symbols.html">tm_bubbles</a></span><span class="op">(</span></span>
<span>    size <span class="op">=</span> <span class="st">"population"</span>,</span>
<span>    size.scale <span class="op">=</span> <span class="fu"><a href="../reference/tm_scale_continuous.html">tm_scale_continuous</a></span><span class="op">(</span></span>
<span>      label.format <span class="op">=</span> <span class="fu"><a href="../reference/tm_label_format.html">tm_label_format</a></span><span class="op">(</span></span>
<span>        big.num.abbr <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>thousand <span class="op">=</span> <span class="fl">3</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="adv_legends_files/figure-html/unnamed-chunk-15-1.png" width="100%"></p>
</div>
</div>
<div class="section level2">
<h2 id="multiple-legends">Multiple legends<a class="anchor" aria-label="anchor" href="#multiple-legends"></a>
</h2>
<p>When there are multiple data-driven visual variables for which legends are produced, there are a couple of things to consider</p>
<div class="section level3">
<h3 id="neutral-values">Neutral values<a class="anchor" aria-label="anchor" href="#neutral-values"></a>
</h3>
<p>Each scale function has a <code>value.neutral</code> argument. This defines what visual value is used in the other legends. Example:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">s</span> <span class="op">+</span></span>
<span><span class="fu"><a href="../reference/tm_symbols.html">tm_bubbles</a></span><span class="op">(</span></span>
<span>  fill <span class="op">=</span> <span class="st">"HPI"</span>, </span>
<span>  size <span class="op">=</span> <span class="st">"pop_est"</span>,</span>
<span>  fill.scale <span class="op">=</span> <span class="fu"><a href="../reference/tm_scale_continuous.html">tm_scale_continuous</a></span><span class="op">(</span>values <span class="op">=</span> <span class="st">"-matplotlib.rainbow"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="adv_legends_files/figure-html/unnamed-chunk-16-1.png" width="100%"></p>
<p>We’ve used a gradient scale to map happy planet index (note that the minus sign reverses the palette). When <code>value.neutral</code> is not specified, the middle color (green) is used. My personal preference would be to use a neutral gray color with the same brightness as the palette colors:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">s</span> <span class="op">+</span></span>
<span><span class="fu"><a href="../reference/tm_symbols.html">tm_bubbles</a></span><span class="op">(</span></span>
<span>  fill <span class="op">=</span> <span class="st">"HPI"</span>, </span>
<span>  size <span class="op">=</span> <span class="st">"pop_est"</span>,</span>
<span>  fill.scale <span class="op">=</span> <span class="fu"><a href="../reference/tm_scale_continuous.html">tm_scale_continuous</a></span><span class="op">(</span></span>
<span>    values <span class="op">=</span> <span class="st">"-matplotlib.rainbow"</span>,</span>
<span>    value.neutral <span class="op">=</span> <span class="st">"gray70"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="adv_legends_files/figure-html/unnamed-chunk-17-1.png" width="100%"></p>
<p>A different approach to achieve the same result is to update the size legend:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">s</span> <span class="op">+</span></span>
<span><span class="fu"><a href="../reference/tm_symbols.html">tm_bubbles</a></span><span class="op">(</span></span>
<span>  fill <span class="op">=</span> <span class="st">"HPI"</span>, </span>
<span>  size <span class="op">=</span> <span class="st">"pop_est"</span>,</span>
<span>  size.legend <span class="op">=</span> <span class="fu"><a href="../reference/tm_legend.html">tm_legend</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="st">"gray70"</span><span class="op">)</span>,</span>
<span>  fill.scale <span class="op">=</span> <span class="fu"><a href="../reference/tm_scale_continuous.html">tm_scale_continuous</a></span><span class="op">(</span>values <span class="op">=</span> <span class="st">"-matplotlib.rainbow"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>This method, where visual variables are passed on via <code>tm_legend</code> will be covered in the section about <a href="https://r-tmap.github.io/tmap/articles/adv_legends#setting-visual-values">setting visual values</a>.</p>
</div>
<div class="section level3">
<h3 id="combining-legends">Combining legends<a class="anchor" aria-label="anchor" href="#combining-legends"></a>
</h3>
<p>It is also possible to combine legends, which is useful if two visual variables are used to plot the same data variable:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">s</span> <span class="op">+</span></span>
<span><span class="fu"><a href="../reference/tm_symbols.html">tm_bubbles</a></span><span class="op">(</span></span>
<span>  fill <span class="op">=</span> <span class="st">"economy"</span>, </span>
<span>  shape <span class="op">=</span> <span class="st">"economy"</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">[plot mode]</span> legend/component: Some components or legends are too <span style="color: #0000BB;">"high"</span> and are</span></span>
<span><span class="co">#&gt; therefore rescaled.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Set the tmap option `component.autoscale = FALSE` to disable rescaling.</span></span></code></pre></div>
<p><img src="adv_legends_files/figure-html/unnamed-chunk-19-1.png" width="100%"></p>
<p>Legends combined:</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">s</span> <span class="op">+</span></span>
<span><span class="fu"><a href="../reference/tm_symbols.html">tm_bubbles</a></span><span class="op">(</span></span>
<span>  fill <span class="op">=</span> <span class="st">"economy"</span>, </span>
<span>  shape <span class="op">=</span> <span class="st">"economy"</span>,</span>
<span>  shape.legend <span class="op">=</span> <span class="fu"><a href="../reference/tm_legend.html">tm_legend_combine</a></span><span class="op">(</span><span class="st">"fill"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="adv_legends_files/figure-html/unnamed-chunk-20-1.png" width="100%"></p>
<p>Two legends can be combined if and only if the number of legend items are the same. The graphical properties are then merged. So in this case the fill color from legend 1 and the shape of legend 2 are used.</p>
</div>
</div>
<div class="section level2">
<h2 id="visual-values">Visual values<a class="anchor" aria-label="anchor" href="#visual-values"></a>
</h2>
<p>It is possible to create custom legend by specify the visual values that define the legend items. There are two ways to do this: either to change the visual values of an existing legend via the <code>.legend</code> argument, or via a new manual legend added with <code><a href="../reference/tm_add_legend.html">tm_add_legend()</a></code>.</p>
</div>
<div class="section level2">
<h2 id="setting-visual-values">Setting visual values<a class="anchor" aria-label="anchor" href="#setting-visual-values"></a>
</h2>
<p>Suppose, for whatever reason, we would like to change some of the visual values used in the legend symbols. For instance, instead of solid circle lines, thick dotted lines. In that case, we can simply pass on the corresponding visual values <code>lwd</code> and <code>lty</code> to <code><a href="../reference/tm_legend.html">tm_legend()</a></code>:</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">s</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="../reference/tm_polygons.html">tm_polygons</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/tm_symbols.html">tm_symbols</a></span><span class="op">(</span></span>
<span>    fill <span class="op">=</span> <span class="st">"economy"</span>,</span>
<span>    fill.legend <span class="op">=</span> <span class="fu"><a href="../reference/tm_legend.html">tm_legend</a></span><span class="op">(</span><span class="st">"Economy"</span>, </span>
<span>      lwd <span class="op">=</span> <span class="fl">2</span>, lty <span class="op">=</span> <span class="st">"dotted"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="adv_legends_files/figure-html/unnamed-chunk-21-1.png" width="100%"></p>
</div>
<div class="section level2">
<h2 id="manual-legends">Manual legends<a class="anchor" aria-label="anchor" href="#manual-legends"></a>
</h2>
<p>A new manual legend is created with <code><a href="../reference/tm_add_legend.html">tm_add_legend()</a></code>. For each item, a label and the visual values are specified, and in addition, a legend title.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">s</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="../reference/tm_polygons.html">tm_polygons</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/tm_add_legend.html">tm_add_legend</a></span><span class="op">(</span></span>
<span>    title <span class="op">=</span> <span class="st">"Countries"</span>, </span>
<span>    fill <span class="op">=</span> <span class="st">"grey80"</span>, </span>
<span>    shape <span class="op">=</span> <span class="fl">22</span>, </span>
<span>    size <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">4</span><span class="op">)</span>, </span>
<span>    labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Small"</span>, <span class="st">"Medium"</span>, <span class="st">"Large"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="adv_legends_files/figure-html/unnamed-chunk-22-1.png" width="100%"></p>
<p>There are four legend types, specified via the <code>type</code> argument:</p>
<ul>
<li>
<code>"polygons"</code> where boxes are shown. This is the default for normal color legends.</li>
<li>
<code>"symbols"</code> where symbols, e.g. bubbles, stars, etc. are shown. This is the default for <code><a href="../reference/tm_add_legend.html">tm_add_legend()</a></code> because it is the most versatile one.</li>
<li>
<code>"lines"</code> where lines are shown.</li>
<li>
<code>"text"</code> where text is annotated.</li>
</ul>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">s</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="../reference/tm_polygons.html">tm_polygons</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> </span>
<span><span class="fu"><a href="../reference/tm_add_legend.html">tm_add_legend</a></span><span class="op">(</span></span>
<span>    type <span class="op">=</span> <span class="st">"polygons"</span>,</span>
<span>    title <span class="op">=</span> <span class="st">"polygons"</span>, </span>
<span>    fill <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"orange"</span>, <span class="st">"purple"</span>, <span class="st">"blue"</span><span class="op">)</span>, </span>
<span>    labels <span class="op">=</span> <span class="va">LETTERS</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span>, width <span class="op">=</span> <span class="fl">7</span><span class="op">)</span> <span class="op">+</span></span>
<span><span class="fu"><a href="../reference/tm_add_legend.html">tm_add_legend</a></span><span class="op">(</span></span>
<span>    type <span class="op">=</span> <span class="st">"symbols"</span>,</span>
<span>    title <span class="op">=</span> <span class="st">"symbols"</span>, </span>
<span>    fill <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"orange"</span>, <span class="st">"purple"</span>, <span class="st">"blue"</span><span class="op">)</span>, </span>
<span>    shape <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">4</span>, <span class="fl">19</span><span class="op">)</span>,</span>
<span>    labels <span class="op">=</span> <span class="va">LETTERS</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span><span class="op">)</span> <span class="op">+</span> </span>
<span><span class="fu"><a href="../reference/tm_add_legend.html">tm_add_legend</a></span><span class="op">(</span></span>
<span>    type <span class="op">=</span> <span class="st">"lines"</span>,</span>
<span>    title <span class="op">=</span> <span class="st">"lines"</span>, </span>
<span>    fill <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"orange"</span>, <span class="st">"purple"</span>, <span class="st">"blue"</span><span class="op">)</span>,</span>
<span>    lwd <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">4</span>,<span class="fl">6</span><span class="op">)</span>,</span>
<span>    labels <span class="op">=</span> <span class="va">LETTERS</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span><span class="op">)</span> <span class="op">+</span> </span>
<span><span class="fu"><a href="../reference/tm_add_legend.html">tm_add_legend</a></span><span class="op">(</span></span>
<span>    type <span class="op">=</span> <span class="st">"text"</span>,</span>
<span>    title <span class="op">=</span> <span class="st">"text"</span>,</span>
<span>    size <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">.7</span>, <span class="fl">.9</span>, <span class="fl">1.5</span><span class="op">)</span>,</span>
<span>    text <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"orange"</span>, <span class="st">"purple"</span>, <span class="st">"blue"</span><span class="op">)</span>, </span>
<span>    labels <span class="op">=</span> <span class="va">LETTERS</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<p><img src="adv_legends_files/figure-html/unnamed-chunk-23-1.png" width="100%"></p>
<p>For symbols shapes (<code>shape</code>) are the following numbers are pre-defined:</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">atlantic_grid</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/expand.grid.html" class="external-link">expand.grid</a></span><span class="op">(</span>x <span class="op">=</span> <span class="op">-</span><span class="fl">51</span><span class="op">:</span><span class="op">-</span><span class="fl">47</span>, y <span class="op">=</span> <span class="fl">20</span><span class="op">:</span><span class="fl">24</span><span class="op">)</span>, id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_len</a></span><span class="op">(</span><span class="fl">25</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">x</span> <span class="op">=</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_as_sf.html" class="external-link">st_as_sf</a></span><span class="op">(</span><span class="va">atlantic_grid</span>, coords <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"x"</span>, <span class="st">"y"</span><span class="op">)</span>, crs <span class="op">=</span> <span class="fl">4326</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/tm_shape.html">tm_shape</a></span><span class="op">(</span><span class="va">x</span>, bbox <span class="op">=</span> <span class="fu">tmaptools</span><span class="fu">::</span><span class="fu"><a href="https://r-tmap.github.io/tmaptools/reference/bb.html">bb</a></span><span class="op">(</span><span class="va">x</span>, ext <span class="op">=</span> <span class="fl">1.2</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/tm_symbols.html">tm_symbols</a></span><span class="op">(</span></span>
<span>    shape <span class="op">=</span> <span class="st">"id"</span>,</span>
<span>    size <span class="op">=</span> <span class="fl">2</span>,</span>
<span>    lwd <span class="op">=</span> <span class="fl">2</span>,</span>
<span>    fill <span class="op">=</span> <span class="st">"orange"</span>,</span>
<span>    col <span class="op">=</span> <span class="st">"black"</span>,</span>
<span>    shape.scale <span class="op">=</span> <span class="fu"><a href="../reference/tm_scale_asis.html">tm_scale_asis</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/tm_text.html">tm_text</a></span><span class="op">(</span><span class="st">"id"</span>, ymod <span class="op">=</span> <span class="op">-</span><span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<p><img src="adv_legends_files/figure-html/unnamed-chunk-24-1.png" width="100%"></p>
<p>It is also possible to use images or grob objects.</p>
</div>
<div class="section level2">
<h2 id="layout">Layout<a class="anchor" aria-label="anchor" href="#layout"></a>
</h2>
<p>There are quite some arguments in <code><a href="../reference/tm_legend.html">tm_legend()</a></code> that can be used to tweak the layout. For instance broader color boxes:</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">s</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/tm_polygons.html">tm_polygons</a></span><span class="op">(</span></span>
<span>    fill <span class="op">=</span> <span class="st">"HPI"</span>,</span>
<span>    fill.legend <span class="op">=</span> </span>
<span>      <span class="fu"><a href="../reference/tm_legend.html">tm_legend</a></span><span class="op">(</span></span>
<span>        title <span class="op">=</span> <span class="st">"Happy Planet Index"</span>,</span>
<span>        item.height <span class="op">=</span> <span class="fl">1.5</span>,</span>
<span>        item.width <span class="op">=</span> <span class="fl">3</span>,</span>
<span>        item.r <span class="op">=</span> <span class="fl">0</span>, </span>
<span>        item.space <span class="op">=</span> <span class="fl">0.5</span>, </span>
<span>        item.na.space <span class="op">=</span> <span class="fl">1</span>, </span>
<span>        title.align <span class="op">=</span> <span class="st">"center"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="adv_legends_files/figure-html/unnamed-chunk-25-1.png" width="100%"></p>
<p>Another example is to configure the legend in ggplot2 style.</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">s</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/tm_polygons.html">tm_polygons</a></span><span class="op">(</span></span>
<span>    fill <span class="op">=</span> <span class="st">"HPI"</span>,</span>
<span>    col <span class="op">=</span> <span class="st">"grey20"</span>,</span>
<span>    lwd <span class="op">=</span> <span class="fl">1</span>,</span>
<span>    fill.scale <span class="op">=</span> <span class="fu"><a href="../reference/tm_scale_continuous.html">tm_scale_continuous</a></span><span class="op">(</span>values <span class="op">=</span> <span class="st">"pu_gn"</span>, midpoint <span class="op">=</span> <span class="fl">35</span><span class="op">)</span>,</span>
<span>    fill.legend <span class="op">=</span> <span class="fu"><a href="../reference/tm_legend.html">tm_legend</a></span><span class="op">(</span>reverse <span class="op">=</span> <span class="cn">TRUE</span>, </span>
<span>      frame <span class="op">=</span> <span class="cn">FALSE</span>, </span>
<span>      item.height <span class="op">=</span> <span class="fl">2.25</span>, </span>
<span>      item.width <span class="op">=</span> <span class="fl">1.8</span>, </span>
<span>      position <span class="op">=</span> <span class="fu"><a href="../reference/tm_pos.html">tm_pos_out</a></span><span class="op">(</span>pos.v <span class="op">=</span> <span class="st">"center"</span><span class="op">)</span>, </span>
<span>      na.show <span class="op">=</span> <span class="cn">FALSE</span>, </span>
<span>      ticks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0.1</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.9</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span>, </span>
<span>      ticks.col <span class="op">=</span> <span class="st">"white"</span>, </span>
<span>      col <span class="op">=</span> <span class="st">"white"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span><span class="fu"><a href="../reference/tm_layout.html">tm_layout</a></span><span class="op">(</span>frame <span class="op">=</span> <span class="cn">FALSE</span>, outer.margins <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span></code></pre></div>
<p><img src="adv_legends_files/figure-html/unnamed-chunk-26-1.png" width="100%"></p>
<p>The <code>ticks</code> argument defines a dashed line. Each list item is a dash, the first between 0 and 0.1 of the color box width, and the second between 0.9 and 1.</p>
<p>The numbers can also be larger than 1. In that case, the tick is drawn in the small margin between color box and label.</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">s</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/tm_polygons.html">tm_polygons</a></span><span class="op">(</span></span>
<span>    fill <span class="op">=</span> <span class="st">"HPI"</span>,</span>
<span>    col <span class="op">=</span> <span class="st">"grey20"</span>,</span>
<span>    lwd <span class="op">=</span> <span class="fl">1</span>,</span>
<span>    fill.scale <span class="op">=</span> <span class="fu"><a href="../reference/tm_scale_continuous.html">tm_scale_continuous</a></span><span class="op">(</span>values <span class="op">=</span> <span class="st">"pu_gn"</span>, midpoint <span class="op">=</span> <span class="fl">35</span><span class="op">)</span>,</span>
<span>    fill.legend <span class="op">=</span> <span class="fu"><a href="../reference/tm_legend.html">tm_legend</a></span><span class="op">(</span>reverse <span class="op">=</span> <span class="cn">TRUE</span>, </span>
<span>      frame <span class="op">=</span> <span class="cn">FALSE</span>, </span>
<span>      item.height <span class="op">=</span> <span class="fl">2.25</span>, </span>
<span>      item.width <span class="op">=</span> <span class="fl">1.8</span>, </span>
<span>      position <span class="op">=</span> <span class="fu"><a href="../reference/tm_pos.html">tm_pos_out</a></span><span class="op">(</span>pos.v <span class="op">=</span> <span class="st">"center"</span><span class="op">)</span>, </span>
<span>      na.show <span class="op">=</span> <span class="cn">FALSE</span>, </span>
<span>      ticks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0.5</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1.5</span><span class="op">)</span><span class="op">)</span>, </span>
<span>      ticks.lwd <span class="op">=</span> <span class="fl">2</span>,</span>
<span>      ticks.col <span class="op">=</span> <span class="st">"red"</span>, </span>
<span>      col <span class="op">=</span> <span class="st">"white"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span><span class="fu"><a href="../reference/tm_layout.html">tm_layout</a></span><span class="op">(</span>frame <span class="op">=</span> <span class="cn">FALSE</span>, outer.margins <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span></code></pre></div>
<p><img src="adv_legends_files/figure-html/unnamed-chunk-27-1.png" width="100%"></p>
<p>So the first dash <code>c(0, 0.5)</code> is drawn in the first half of the color box, and the second dash <code>c(1, 1.5)</code> in the first half of the margin.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Martijn Tennekes.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
