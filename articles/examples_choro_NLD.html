<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>tmap example: choropleth (Netherlands) • tmap</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="tmap example: choropleth (Netherlands)">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">tmap</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">4.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-basics" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Basics</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-basics">
<li><a class="dropdown-item" href="../articles/basics_vv">Visual variables</a></li>
    <li><a class="dropdown-item" href="../articles/basics_scales">Scales</a></li>
    <li><a class="dropdown-item" href="../articles/basics_modes">Modes</a></li>
    <li><a class="dropdown-item" href="../articles/basics_facets">Facets</a></li>
    <li><a class="dropdown-item" href="../articles/basics_legends">Legends</a></li>
    <li><a class="dropdown-item" href="../articles/basics_basemaps">Basemaps (updated!)</a></li>
    <li><a class="dropdown-item" href="../articles/basics_components">Components</a></li>
    <li><a class="dropdown-item" href="../articles/basics_charts">Charts</a></li>
    <li><a class="dropdown-item" href="../articles/basics_layout">Layout</a></li>
    <li><a class="dropdown-item" href="../articles/basics_exporting">Exporting</a></li>
  </ul>
</li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-foundations" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Foundations</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-foundations">
<li><a class="dropdown-item" href="../articles/foundations_gg">Grammar of Graphics</a></li>
    <li><a class="dropdown-item" href="../articles/foundations_crs">Map projections (CRS)</a></li>
  </ul>
</li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-examples" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Examples</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-examples">
<li><a class="dropdown-item" href="../articles/examples_choro_World">Choropleth (World)</a></li>
    <li><a class="dropdown-item" href="../articles/examples_choro_NLD">Choropleth (Netherlands)</a></li>
    <li><a class="dropdown-item" href="../articles/examples_bubble">Bubble map</a></li>
    <li><a class="dropdown-item" href="../articles/examples_raster">Raster map</a></li>
    <li><a class="dropdown-item" href="../articles/examples_topo_Africa">Topographic map (Africa)</a></li>
    <li><a class="dropdown-item" href="../articles/examples_terrain">Terrain map</a></li>
    <li><a class="dropdown-item" href="../articles/examples_gridmaps">Gridmap</a></li>
  </ul>
</li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-comparison" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Comparison</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-comparison">
<li><a class="dropdown-item" href="../articles/versus_ggplot2">tmap vs ggplot2</a></li>
    <li><a class="dropdown-item" href="../articles/versus_mapview">tmap vs mapview</a></li>
    <li><a class="dropdown-item" href="../articles/versus_mapsf">tmap vs mapsf</a></li>
  </ul>
</li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-extensions" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Extensions</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-extensions">
<li><a class="dropdown-item" href="../articles/ext_mapgl">tmap.mapgl</a></li>
    <li><a class="dropdown-item" href="../articles/ext_cartogram">tmap.cartogram</a></li>
    <li><a class="dropdown-item" href="../articles/ext_glyphs">tmap.glyphs</a></li>
    <li><a class="dropdown-item" href="../articles/ext_networks">tmap.networks</a></li>
  </ul>
</li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-advanced" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Advanced</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-advanced">
<li><a class="dropdown-item" href="../articles/adv_shiny">Shiny integration</a></li>
    <li><a class="dropdown-item" href="../articles/adv_groups">Layer groups (view mode only)</a></li>
    <li><a class="dropdown-item" href="../articles/adv_multivariate">Multivariate visual variables</a></li>
    <li><a class="dropdown-item" href="../articles/adv_positions">Positioning of components (updated!)</a></li>
    <li><a class="dropdown-item" href="../articles/adv_comp_group">Grouping of components (new!)</a></li>
    <li><a class="dropdown-item" href="../articles/adv_options">Options and styles</a></li>
    <li><a class="dropdown-item" href="../articles/adv_margins">Margins and aspect ratio</a></li>
    <li><a class="dropdown-item" href="../articles/adv_extensions">Extending tmap</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/r-tmap/tmap/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">


<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>tmap example: choropleth (Netherlands)</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/r-tmap/tmap/blob/master/vignettes/examples_choro_NLD.Rmd" class="external-link"><code>vignettes/examples_choro_NLD.Rmd</code></a></small>
      <div class="d-none name"><code>examples_choro_NLD.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/r-tmap/tmap" class="external-link">tmap</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/tmap_options.html">tmap_options</a></span><span class="op">(</span>scale <span class="op">=</span> <span class="fl">0.75</span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="about-the-data">About the data<a class="anchor" aria-label="anchor" href="#about-the-data"></a>
</h2>
<p>In tmap, there are two example data sets of the Netherlands:</p>
<ul>
<li>one for districts, <code>NLD_dist</code> (3340 in total),</li>
<li>one for municipalities: <code>NLD_muni</code> (345 in total), and</li>
<li>one for provinces: <code>NLD_prov</code> (12 in total).</li>
</ul>
<p>The first two datasets contain demographic data of the Netherlands as of 2022. The third dataset only contains metadata (names and codes) and will only be used to plot province borders.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/tmap_arrange.html">tmap_arrange</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="../reference/qtm.html">qtm</a></span><span class="op">(</span><span class="va">NLD_dist</span>, title <span class="op">=</span> <span class="st">"NLD_dist: 3340 districts"</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="../reference/qtm.html">qtm</a></span><span class="op">(</span><span class="va">NLD_muni</span>, title <span class="op">=</span> <span class="st">"NLD_mini: 345 municipalities"</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="../reference/qtm.html">qtm</a></span><span class="op">(</span><span class="va">NLD_prov</span>, title <span class="op">=</span> <span class="st">"NLD_prov: 12 provinces"</span><span class="op">)</span>,</span>
<span>    ncol <span class="op">=</span> <span class="fl">3</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="examples_choro_NLD_files/figure-html/unnamed-chunk-3-1.png" width="100%"></p>
<p>The variables in the <code>NLD_dist</code> and <code>NLD_muni</code> are the same:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">NLD_dist</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] "code"               "name"               "province"          </span></span>
<span><span class="co">#&gt;  [4] "area"               "urbanity"           "population"        </span></span>
<span><span class="co">#&gt;  [7] "pop_0_14"           "pop_15_24"          "pop_25_44"         </span></span>
<span><span class="co">#&gt; [10] "pop_45_64"          "pop_65plus"         "dwelling_total"    </span></span>
<span><span class="co">#&gt; [13] "dwelling_value"     "dwelling_ownership" "employment_rate"   </span></span>
<span><span class="co">#&gt; [16] "income_low"         "income_high"        "edu_appl_sci"      </span></span>
<span><span class="co">#&gt; [19] "geometry"</span></span></code></pre></div>
<p>We will create a choropleth about the variable <code>"edu_appl_sci"</code>, which contains the percentage of 15-75 year old people who have a university degree (Dutch: WO) or applied sciences degree (Dutch: HBO), per district as of 1st October 2022.</p>
</div>
<div class="section level2">
<h2 id="choropleth-step-1">Choropleth: step 1<a class="anchor" aria-label="anchor" href="#choropleth-step-1"></a>
</h2>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/tm_shape.html">tm_shape</a></span><span class="op">(</span><span class="va">NLD_dist</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="../reference/tm_polygons.html">tm_polygons</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="st">"edu_appl_sci"</span><span class="op">)</span> <span class="co"># data variable -&gt; fill color</span></span></code></pre></div>
<p><img src="examples_choro_NLD_files/figure-html/unnamed-chunk-5-1.png" width="100%"></p>
</div>
<div class="section level2">
<h2 id="choropleth-step-2">Choropleth: step 2<a class="anchor" aria-label="anchor" href="#choropleth-step-2"></a>
</h2>
<p>We remove the district borders, because they are too dense in urban areas. Instead, we add borders of municipalities and provinces op top:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/tm_shape.html">tm_shape</a></span><span class="op">(</span><span class="va">NLD_dist</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="../reference/tm_polygons.html">tm_polygons</a></span><span class="op">(</span></span>
<span>        fill <span class="op">=</span> <span class="st">"edu_appl_sci"</span>,</span>
<span>        col <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span> <span class="op">+</span>           <span class="co"># disable border lines</span></span>
<span><span class="fu"><a href="../reference/tm_shape.html">tm_shape</a></span><span class="op">(</span><span class="va">NLD_muni</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="../reference/tm_polygons.html">tm_borders</a></span><span class="op">(</span>lwd <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">+</span>       <span class="co"># municipality border line width 1</span></span>
<span><span class="fu"><a href="../reference/tm_shape.html">tm_shape</a></span><span class="op">(</span><span class="va">NLD_prov</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="../reference/tm_polygons.html">tm_borders</a></span><span class="op">(</span>lwd <span class="op">=</span> <span class="fl">3</span><span class="op">)</span>         <span class="co"># province border line width 3</span></span></code></pre></div>
<p><img src="examples_choro_NLD_files/figure-html/unnamed-chunk-6-1.png" width="100%"></p>
</div>
<div class="section level2">
<h2 id="choropleth-step-3">Choropleth: step 3<a class="anchor" aria-label="anchor" href="#choropleth-step-3"></a>
</h2>
<p>A few improvements and embellishments:</p>
<ul>
<li>A different color scheme. Run <code><a href="https://rdrr.io/pkg/cols4all/man/c4a_gui.html" class="external-link">cols4all::c4a_gui()</a></code> to explore them. For this application, we were looking for: a diverging, color-blind friendly palette with sufficient contrast with black (to see the border lines)</li>
<li>Legend: position top left, title removed (because we will use tm_title instead)</li>
<li>Title added with tm_title. Note that <code>z = 0</code> makes sure the title is on top</li>
<li>Map components added: compass, scalebar, and credits text</li>
</ul>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/tm_shape.html">tm_shape</a></span><span class="op">(</span><span class="va">NLD_dist</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="../reference/tm_polygons.html">tm_polygons</a></span><span class="op">(</span></span>
<span>        fill <span class="op">=</span> <span class="st">"edu_appl_sci"</span>,</span>
<span>        fill.scale <span class="op">=</span> <span class="fu"><a href="../reference/tm_scale_continuous.html">tm_scale_continuous</a></span><span class="op">(</span>values <span class="op">=</span> <span class="st">"-orange_blue_diverging"</span><span class="op">)</span>,</span>
<span>        fill.legend <span class="op">=</span> <span class="fu"><a href="../reference/tm_legend.html">tm_legend</a></span><span class="op">(</span><span class="st">""</span>, position <span class="op">=</span> <span class="fu"><a href="../reference/tm_pos.html">tm_pos_in</a></span><span class="op">(</span><span class="st">"left"</span>, <span class="st">"top"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>        col <span class="op">=</span> <span class="cn">NULL</span></span>
<span>    <span class="op">)</span> <span class="op">+</span> </span>
<span><span class="fu"><a href="../reference/tm_shape.html">tm_shape</a></span><span class="op">(</span><span class="va">NLD_muni</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="../reference/tm_polygons.html">tm_borders</a></span><span class="op">(</span>lwd <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">+</span></span>
<span><span class="fu"><a href="../reference/tm_shape.html">tm_shape</a></span><span class="op">(</span><span class="va">NLD_prov</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="../reference/tm_polygons.html">tm_borders</a></span><span class="op">(</span>lwd <span class="op">=</span> <span class="fl">3</span><span class="op">)</span> <span class="op">+</span> </span>
<span><span class="fu"><a href="../reference/tm_title.html">tm_title</a></span><span class="op">(</span><span class="st">"Proportion of Population Aged 15–75 with a University or Applied Sciences Degree by District (as of October 1, 2022)"</span>, </span>
<span>    width <span class="op">=</span> <span class="fl">15</span>, </span>
<span>    position <span class="op">=</span> <span class="fu"><a href="../reference/tm_pos.html">tm_pos_in</a></span><span class="op">(</span><span class="st">"left"</span>, <span class="st">"top"</span><span class="op">)</span>, </span>
<span>    z <span class="op">=</span> <span class="fl">0</span><span class="op">)</span> <span class="op">+</span></span>
<span><span class="fu"><a href="../reference/tm_compass.html">tm_compass</a></span><span class="op">(</span>position <span class="op">=</span> <span class="fu"><a href="../reference/tm_pos.html">tm_pos_in</a></span><span class="op">(</span><span class="st">"left"</span>, <span class="st">"bottom"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span><span class="fu"><a href="../reference/tm_scalebar.html">tm_scalebar</a></span><span class="op">(</span>position <span class="op">=</span> <span class="fu"><a href="../reference/tm_pos.html">tm_pos_in</a></span><span class="op">(</span><span class="st">"left"</span>, <span class="st">"bottom"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span><span class="fu"><a href="../reference/tm_credits.html">tm_credits</a></span><span class="op">(</span><span class="st">"© Data: Statistics Netherlands, Software: R-tmap"</span>,</span>
<span>    position <span class="op">=</span> <span class="fu"><a href="../reference/tm_pos.html">tm_pos_in</a></span><span class="op">(</span><span class="st">"left"</span>, <span class="st">"bottom"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="examples_choro_NLD_files/figure-html/unnamed-chunk-7-1.png" width="100%"></p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Martijn Tennekes.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
